{% extends 'base.html' %}

{% block title %}Plasma Plots{% endblock %}

{% block content %}
<h1>Select a CSV File to Plot</h1>
<form id="fileForm" style="display: flex; justify-content: space-between; align-items: center;">
    <div>
        <select name="file" id="fileDropdown">
            {% for file in files %}
            <option value="{{ file }}">{{ file }}</option>
            {% endfor %}
        </select>
        <button type="submit" class="btn-plot">Plot</button>
    </div>
    <button type="button" id="downloadBtn" class="btn-download">Download CSV</button>
</form>
<div id="plotArea">

    <div id="plotPlaceholder" style="text-align: center; padding: 50px; font-size: 1.2em;">
        Fetching last plot...
    </div>

</div>
<div id="loading-overlay" style="display: none;">
    <div class="spinner"></div>
</div>


{% endblock %}

{% block extra_js %}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script src="/static/js/plasmaplots.js"></script>
{% endblock %}